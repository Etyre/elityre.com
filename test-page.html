<!DOCTYPE html>

<head> 
	<title>Test Page</title>
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>

</head>

<body>
  This is a test page for tinkering.
	
	<!--Navigation bar-->
	<div id="nav-placeholder">
	</div>
	<!--This /\ is where the Nav bar goes on the page.
	this \/ is the code that goes and gets the nav bar content from nav.html-->
	<script>
	$(function(){
	  $("#nav-placeholder").load("nav.html");
	});
	</script>
	<!--end of Navigation bar-->
	
	
	
	
	
	
	
	<script>
		const nameOfThisPage = "test-page.html"
		
		// future Eli, this is a function. It is in Arrow syntax. You should learn this.
		const getCommits = async file => {
			
    
		    // Create new XMLHttpRequest object
		    const xhr = new XMLHttpRequest();

		    // GitHub endpoint, dynamically passing in specified username
		    const url = `https://api.github.com/repos/etyre/elityre.com/commits?path=date.html`;
			// 'date.html' should ultimately be replaced with '${file}'

		    // Open a new connection, using a GET request via URL endpoint
		    // Providing 3 arguments (GET/POST, The URL, Async True/False)
		    xhr.open('GET', url, true);

		    // When request is received
		    // Process it here
		    xhr.onload = function() {

			// Parse API data into JSON
			const data = JSON.parse(this.response);

			// Log the response
			// console.log(data);
			
			// Return the JSON object
			return data;

		    }

		    // Send the request to the server
		    xhr.send();

		}
		
		const data = await getCommits('test');
		// Why is this /\ undefined?
		
		
		console.log(data);
		
		let d = new Date();
		document.body.innerHTML = "<p>This page was last updated on "+ "[placeholder]" +d+ "</p>";
	</script>
  
<body>
